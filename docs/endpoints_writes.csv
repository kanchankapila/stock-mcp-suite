Category,Path,Method,Sources,Writes (tables),Writes (schemas),Schema Refs,Frequency,Code Ref
HTTP,/api/ingest/:symbol,POST,"Yahoo Chart; Stooq CSV (fallback); NewsAPI Everything; Moneycontrol Insights","prices; news; stocks; rag_embeddings (if sqlite)","prices(symbol,date,open,high,low,close,volume); news(id,symbol,date,title,summary,url,sentiment); stocks(symbol,name); rag_embeddings(ns,id,text,metadata,vector)","server/src/db.ts:25; server/src/db.ts:32; server/src/db.ts:20; server/src/db.ts:62",On-demand,server/src/routes/stocks.ts:22
HTTP,/api/stocks/yahoo/ingest/:symbol,POST,Yahoo Chart,"prices; stocks","prices(symbol,date,open,high,low,close,volume); stocks(symbol,name)","server/src/db.ts:25; server/src/db.ts:20",On-demand,server/src/routes/stocks.ts:469
HTTP,/api/stocks/:symbol/mc-tech,GET,Moneycontrol TechIndicator (D/W/M),mc_tech,mc_tech(symbol,freq,data,updated_at),"server/src/db.ts:46",On-demand (cached),server/src/routes/stocks.ts:349
HTTP,/api/top-picks/snapshot,POST,Internal compute (prices; news; mc_tech),top_picks_history,top_picks_history(snapshot_date,symbol,score,momentum,sentiment,mc_score,recommendation,created_at),"server/src/db.ts:93",On-demand / startup,server/src/routes/stocks.ts:439
HTTP,/api/stocks/:symbol/analyze,POST,Internal compute,analyses,analyses(id,symbol,created_at,sentiment_score,predicted_close,strategy,score,recommendation),"server/src/db.ts:81",On-demand,server/src/routes/stocks.ts:175
HTTP,/api/rag/index,POST,URLs (Cheerio); texts,"rag_url_status; rag_embeddings (sqlite) or vector store","rag_url_status(ns,url,last_indexed,status,note); rag_embeddings(ns,id,text,metadata,vector)","server/src/db.ts:72; server/src/db.ts:62",On-demand,server/src/routes/rag.ts:14
HTTP,/api/rag/reindex/:symbol,POST,DB news rows; Trendlyne Adv-Tech,"rag_embeddings (sqlite) or vector store",rag_embeddings(ns,id,text,metadata,vector),"server/src/db.ts:62",On-demand,server/src/routes/rag.ts:65
HTTP,/api/rag/admin/build-batch,POST,DB news rows (all symbols),"rag_embeddings (sqlite) or vector store",rag_embeddings(ns,id,text,metadata,vector),"server/src/db.ts:62",On-demand / startup,server/src/routes/rag.ts:249
HTTP,/api/rag/admin/migrate,POST,Existing rag_embeddings,"rag_embeddings (sqlite) or vector store",rag_embeddings(ns,id,text,metadata,vector),"server/src/db.ts:62",On-demand / startup,server/src/routes/rag.ts:278
HTTP,/api/rag/ns/:ns,DELETE,,"deletes rag_embeddings; rag_url_status","rag_embeddings(ns,id,text,metadata,vector); rag_url_status(ns,url,last_indexed,status,note)","server/src/db.ts:62; server/src/db.ts:72",On-demand,server/src/routes/rag.ts:235
